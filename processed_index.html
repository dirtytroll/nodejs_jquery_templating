<!DOCTYPE html>
<html> 
<body>
<script type='text/javascript'>
window._processedServerSide = true;
</script>
 

hi there.  


<div class="result">This is from the server side processing.</div>
<div class="result2">
</div>


<!--  Load jquery, and any other of your server side scripts first.   -->
<script type="text/javascript" src="jquery.js">
</script>
<script type="text/javascript" id="ourServerSide">
	// Check if we have been processed server side or not.
	if(window._processedServerSide === undefined) {
		// We should be client side, so fetch the json.
		var clientJSON = 'client.json';
		$.getJSON(clientJSON, function(data) {
			// When processed on the server side window._jsonData 
			//     is put there by the server.
			window._jsonData = data;
		});
		function loadScript(url) {
			document.write('<' + 'script src="', url, '" type="text/javascript">
</' + 'script>');
		}
		// Your server side scripts get run on client side if not processed on server side.
		loadScript('yourServerSide.js');
		loadScript('yourServerSide2.js');
	}
</script>



<!--  Load your non-server side stuff afterwards.   -->
<script type="text/javascript">
	$(document).ready(function(){
		$('.result2').text('this is from the client side');
	});

</script>
<p>Hello from inside the document.ready call in yourServerSide2.js</p>
<p>PART 2.  Hello from yourServerSide2.js</p>
</body> 
</html>

